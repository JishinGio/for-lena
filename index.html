<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–º–∏—Ö–≤—Ö–≤—Ö–≤—Ö—Ö–≤—Ö—Ö–≤ ‚ù§Ô∏è</title>
<style>
    body {
        margin: 0; font-family: 'Segoe UI', Arial, sans-serif;
        background: linear-gradient(135deg, #ff4e8b, #ff9ecf);
        color: white; text-align: center; overflow: hidden;
        height: 100vh; display: flex; align-items: center; justify-content: center;
        -webkit-font-smoothing: antialiased;
    }

    /* –≠–∫—Ä–∞–Ω—ã */
    .screen {
        position: fixed; inset: 0; display: flex; flex-direction: column;
        align-items: center; justify-content: center;
        background: linear-gradient(135deg, #ff4e8b, #ff9ecf);
        z-index: 100; transition: all 0.6s ease;
    }

    .box {
        background: rgba(255, 255, 255, 0.25); padding: 40px; border-radius: 20px;
        backdrop-filter: blur(10px); border: 2px solid rgba(255, 255, 255, 0.3);
        display: flex; flex-direction: column; align-items: center;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }

    input {
        padding: 15px; font-size: 22px; border-radius: 15px; border: 2px solid white;
        margin-top: 20px; text-align: center; width: 200px; color: #ff4e8b; font-weight: bold;
    }

    .btn {
        margin-top: 20px; padding: 12px 40px; background: white; color: #ff4e8b;
        border: none; border-radius: 50px; cursor: pointer; font-weight: bold; font-size: 20px;
    }

    /* –ü–∞—Å—Ö–∞–ª–∫–∏ */
    .easter-egg { position: absolute; cursor: pointer; animation: pulse 1.5s infinite; z-index: 110; }
    .egg-right { bottom: 30px; right: 30px; }
    .egg-left { bottom: 30px; left: 30px; }
    .egg-label { font-size: 14px; font-weight: bold; margin-top: 5px; }

    @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.15); } 100% { transform: scale(1); } }

    /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
    .modal {
        display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.8);
        z-index: 500; align-items: center; justify-content: center; backdrop-filter: blur(8px);
    }
    .modal-content {
        background: #fff; color: #333; padding: 30px; border-radius: 25px;
        max-width: 450px; position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.4); text-align: left;
    }
    .close-btn { position: absolute; top: 10px; right: 20px; cursor: pointer; font-size: 35px; color: #ff4e8b; font-weight: bold; }
    .photo-full { width: 100%; border-radius: 15px; border: 3px solid #ff4e8b; margin-top: 10px; }

    /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
    #mainContent { display: none; opacity: 0; transition: 1s; width: 100%; z-index: 10; }
    .container { 
        display: inline-block; padding: 45px; background: rgba(255, 255, 255, 0.2); 
        backdrop-filter: blur(15px); border-radius: 35px; border: 2px solid rgba(255, 255, 255, 0.5); 
        min-width: 480px; position: relative; 
    }

    .buttons-wrapper { margin-top: 50px; display: flex; justify-content: center; align-items: center; gap: 40px; height: 160px; position: relative; }
    button.choice { padding: 18px 35px; font-size: 22px; border: none; border-radius: 60px; cursor: pointer; font-weight: bold; }
    #yes { background-color: white; color: #ff4e8b; }
    #no { background-color: #ff2e63; color: white; transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 10; }

    /* –ß–∞—Å—Ç–∏—Ü—ã –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ */
    .particle { position: absolute; pointer-events: none; z-index: 1000; will-change: transform, opacity; backface-visibility: hidden; }
    .photo-particle { width: 120px; height: 120px; object-fit: cover; border-radius: 15px; border: 4px solid white; box-shadow: 0 8px 20px rgba(0,0,0,0.2); image-rendering: -webkit-optimize-contrast; }
    .text-particle { font-weight: 900; white-space: nowrap; text-shadow: 2px 2px 8px rgba(0,0,0,0.3); }

    @keyframes fly {
        0% { transform: translateY(110vh) rotate(0deg) scale(0.6); opacity: 0; }
        15% { opacity: 1; }
        85% { opacity: 1; }
        100% { transform: translateY(-25vh) rotate(360deg) scale(1.1); opacity: 0; }
    }
</style>
</head>
<body>

<audio id="mySong" src="music.mp3"></audio>

<div id="loginScreen" class="screen">
    <div class="box">
        <h1>–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥ ‚ù§Ô∏è</h1>
        <input type="text" id="dateInput" placeholder="–î–î.–ú–ú.–ì–ì–ì–ì" maxlength="10">
        <button class="btn" onclick="checkDate()">–í–æ–π—Ç–∏</button>
    </div>
</div>

<div id="timerScreen" class="screen" style="display: none; opacity: 0;">
    <div class="box">
        <h1>–í—Å–µ –≤–µ—Ä–Ω–æ! ‚ù§Ô∏è</h1>
        <p style="font-size: 1.6rem;">–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—à—å, –º—ã –≤–º–µ—Å—Ç–µ —É–∂–µ</p>
        <b id="daysCount" style="font-size: 60px; text-shadow: 0 0 20px rgba(255,255,255,0.4);">0</b>
        <p id="daysText" style="font-size: 1.6rem;">–¥–Ω–µ–π</p>
        <button class="btn" onclick="showMain()">–î–∞–ª—å—à–µ ‚ú®</button>
    </div>
    
    <div class="easter-egg egg-right" onclick="openModal('letterModal')">
        <span style="font-size: 40px;">‚ù§Ô∏è</span>
        <div class="egg-label">–∫–ª–∏–∫–Ω–∏ –º–µ–Ω—è</div>
    </div>

    <div class="easter-egg egg-left" onclick="openModal('photoModal')">
        <span style="font-size: 40px;">üê±</span>
        <div class="egg-label">–∫–ª–∏–∫–Ω–∏ –º–µ–Ω—è –º—è—É—É—É—É</div>
    </div>
</div>

<div id="letterModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('letterModal')">&times;</span>
        <h3 style="color: #ff4e8b; margin-top: 0; font-size: 24px;">–ú–æ—è –¥–æ—Ä–æ–≥–∞—è –õ–µ–Ω–∞...</h3>
        <p style="font-size: 18px; line-height: 1.6;">
            –ó–Ω–∞–µ—à—å, –∫–æ–≥–¥–∞ –º—ã –Ω–∞—á–∞–ª–∏ –≤—Å—Ç—Ä–µ—á–∞—Ç—å—Å—è 07.10.2020, —è –¥–∞–∂–µ –Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–ª, 
            —á—Ç–æ —Ç—ã —Å—Ç–∞–Ω–µ—à—å –º–æ–∏–º —Ü–µ–ª—ã–º –º–∏—Ä–æ–º. –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –±—ã–ª –¥–ª—è –º–µ–Ω—è –æ—Å–æ–±–µ–Ω–Ω—ã–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤ –Ω–µ–º –±—ã–ª–∞ —Ç—ã. <br><br>
            –¢—ã ‚Äî –º–æ—è –ø–∞—Ç–∞—Ä–∞ –∫–∞—Ç–∞, –º–æ–π —Å–∞–º—ã–π –±–ª–∏–∑–∫–∏–π —á–µ–ª–æ–≤–µ–∫. –°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–≤–æ–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ –∏ –ª—é–±–æ–≤—å. 
            –Ø –ª—é–±–ª—é —Ç–µ–±—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ! ‚ù§Ô∏è
        </p>
    </div>
</div>

<div id="photoModal" class="modal">
    <div class="modal-content" style="text-align: center;">
        <span class="close-btn" onclick="closeModal('photoModal')">&times;</span>
        <h3 style="color: #ff4e8b; margin-top: 0; font-size: 22px;">–ú—è—É! –≠—Ç–æ —Ç–µ–±–µ ‚ú®</h3>
        <img src="cat.jpg" alt="Secret Photo" class="photo-full">
    </div>
</div>

<div id="mainContent">
    <div class="container" id="mainCard">
        <h1 style="font-size: 3.2rem; margin-bottom: 10px;">–§–∏–Ω–∞–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å üíñ</h1>
        <h2 style="font-size: 1.8rem; margin-bottom: 30px;">–¢—ã –±—É–¥–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?</h2>
        <div class="buttons-wrapper">
            <button id="yes" class="choice" onclick="celebrate()">–î–∞! üíã</button>
            <button id="no" class="choice">–ù–µ—Ç üò†</button>
        </div>
    </div>
</div>

<script>
// –õ–û–ì–ò–ö–ê –ú–ê–°–ö–ò –î–ê–¢–´
const dateInput = document.getElementById('dateInput');
dateInput.addEventListener('input', function (e) {
    let input = e.target.value.replace(/\D/g, '');
    let val = "";
    if (input.length > 0) {
        val += input.substring(0, 2);
        if (input.length > 2) val += "." + input.substring(2, 4);
        if (input.length > 4) val += "." + input.substring(4, 8);
    }
    e.target.value = val;
});

// –ü–†–û–í–ï–†–ö–ê –î–ê–¢–´
function checkDate() {
    if (document.getElementById('dateInput').value === "07.10.2020") {
        const start = new Date(2020, 9, 7);
        const days = Math.floor((new Date() - start) / (1000 * 60 * 60 * 24));
        document.getElementById('daysCount').innerText = days;
        
        let text = "–¥–Ω–µ–π";
        if (days % 10 === 1 && days % 100 !== 11) text = "–¥–µ–Ω—å";
        else if ([2,3,4].includes(days % 10) && ![12,13,14].includes(days % 100)) text = "–¥–Ω—è";
        document.getElementById('daysText').innerText = text;

        transition('loginScreen', 'timerScreen');
    } else { alert("–ù–µ-–∞! –ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑ ‚ù§Ô∏è"); }
}

function showMain() { transition('timerScreen', 'mainContent'); }

function transition(from, to) {
    document.getElementById(from).style.opacity = '0';
    setTimeout(() => {
        document.getElementById(from).style.display = 'none';
        document.getElementById(to).style.display = (to === 'mainContent' ? 'block' : 'flex');
        setTimeout(() => { document.getElementById(to).style.opacity = '1'; }, 50);
    }, 600);
}

// –ú–û–î–ê–õ–ö–ò
function openModal(id) { document.getElementById(id).style.display = 'flex'; }
function closeModal(id) { document.getElementById(id).style.display = 'none'; }

// –ö–ù–û–ü–ö–ê "–ù–ï–¢"
const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");
let noScale = 1, yesScale = 1, isFirstMove = true;

noBtn.addEventListener("mouseover", () => {
    if (isFirstMove) { noBtn.style.position = "absolute"; isFirstMove = false; }
    const range = 140;
    const randomX = (Math.random() - 0.5) * range * 2;
    const randomY = (Math.random() - 0.5) * range * 2;
    noBtn.style.left = `calc(50% + ${randomX + 90}px)`;
    noBtn.style.top = `calc(50% + ${randomY}px)`;
    noScale -= 0.08; if (noScale < 0.35) noScale = 0.35;
    yesScale += 0.15;
    noBtn.style.transform = `translate(-50%, -50%) scale(${noScale})`;
    yesBtn.style.transform = `scale(${yesScale})`;
});

// –§–ò–ù–ê–õ–¨–ù–´–ô –ü–†–ê–ó–î–ù–ò–ö
function createParticle(type) {
    const el = document.createElement(type === 'photo' ? 'img' : 'div');
    el.className = 'particle';
    el.style.animation = `fly ${Math.random() * 2 + 2.5}s linear forwards`;
    
    if (type === 'photo') {
        el.src = `${Math.floor(Math.random() * 10) + 1}.jpg`;
        el.classList.add('photo-particle');
    } else if (type === 'text') {
        const texts = ["–õ—é–±–ª—é —Ç–µ–±—è", "–ß–µ–º–∏ –≥–æ–≥–æ", "i love you", "–ü–∞—Ç–∞—Ä–∞ –∫–∞—Ç–∞", "–ú–∏—Ö–≤—Ö–≤—Ö–≤—Ö–≤—Ö"];
        el.innerText = texts[Math.floor(Math.random() * texts.length)];
        el.classList.add('text-particle');
        el.style.fontSize = Math.random() * 25 + 25 + "px";
        el.style.color = "#ffffff";
    } else {
        el.innerText = ["‚ù§Ô∏è", "üíñ", "üê±", "ü•Ç", "üíã", "‚ú®"][Math.floor(Math.random()*6)];
        el.style.fontSize = "40px";
    }

    el.style.left = Math.random() * 100 + "vw";
    document.body.appendChild(el);
    setTimeout(() => el.remove(), 4500);
}

function celebrate() {
    // –ó–ê–ü–£–°–ö –ú–£–ó–´–ö–ò
    const audio = document.getElementById("mySong");
    audio.play().catch(e => console.log("–ú—É–∑—ã–∫–∞ –∂–¥–µ—Ç –∫–ª–∏–∫–∞"));

    noBtn.style.display = "none";
    document.getElementById('mainCard').innerHTML = `
        <h1 style='font-size:4rem; margin-bottom:20px;'>–•–ï–•–ï–•–ï ‚ù§Ô∏è</h1>
        <p style='font-size:2.2rem;'>–õ–µ–Ω—É—Å–∏–∫, —è —Ç–µ–±—è –æ–±–æ–∂–∞—é!</p>
        <p style='font-size:1.6rem;'>–° 14 —Ñ–µ–≤—Ä–∞–ª—è! ü•Ç</p>
    `;
    
    setInterval(() => createParticle('emoji'), 120);
    setInterval(() => createParticle('text'), 350);
    setInterval(() => createParticle('photo'), 600);
}
</script>
</body>
</html>
